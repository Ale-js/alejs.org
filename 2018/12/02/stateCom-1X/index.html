<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="The creator of Ale.js.">
  <meta name="keyword" content="">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      State | Ale.js
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script>
      if (/Android|webOS|iPhone|iPod|BlackBerry|iPad/i.test(navigator.userAgent)) {
            alert("Mobile website is not open yet, browsing with mobile phone may cause a style error!");
        }
  </script>
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


</head>
<div class="wechat-share">
  <img src="/css/images/logo.png">
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>Ale.js</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Index</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/guide/" class="item-link">Guide</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="http://cn.alejs.org" class="item-link">中文</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Index</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/guide/" class="menu-link">Guide</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="http://cn.alejs.org" class="menu-link">中文</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div class="app-sidebar">
    <div class="app-sidebar-inner">
        <h2>Guide</h2>
<select id="select-version" style="outline: none;">
    <option value="0.3">0.3</option>
    <option selected value="1.X">1.X</option>
</select>


<div id="v1X">
    <h3>Basic</h3>
    <a href="/2018/11/26/installation" class="sidebar-link">Installation</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/27/introduction" class="sidebar-link">Introduction</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/28/otherFun" class="sidebar-link">Miscellaneous attribute</a>
    <h3>In-depth component</h3>
    <a href="/2018/12/01/basicCom-1X" class="sidebar-link">Component basis</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/02/stateCom-1X" class="sidebar-link">State</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/03/dataCom" class="sidebar-link">Data</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/30/events" class="sidebar-link">Event</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/01/lifeCom" class="sidebar-link">Life</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/04/permissionCom-1X" class="sidebar-link">Permission</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/05/aleCom-1X" class="sidebar-link">Ale component object</a>
    <h3>Template engine</h3>
    <a href="/2018/11/28/alen" class="sidebar-link">Alen</a>
    <div class="sidebar-br"></div>
</div>


<div id="v03" style="display: none">
    <h3>Basic</h3>
    <a href="/2018/11/26/installation" class="sidebar-link">Installation</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/27/introduction" class="sidebar-link">Introduction</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/28/otherFun" class="sidebar-link">Miscellaneous attribute</a>
    <h3>In-depth component</h3>
    <a href="/2018/11/29/basicCom" class="sidebar-link">Component basis</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/30/events" class="sidebar-link">Event</a>
    <div class="sidebar-br"></div>
    <a href="/2018/11/30/stateCom" class="sidebar-link">State</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/01/lifeCom" class="sidebar-link">Life</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/02/permissionCom" class="sidebar-link">Permission</a>
    <div class="sidebar-br"></div>
    <a href="/2018/12/03/aleCom" class="sidebar-link">Ale component object</a>
    <h3>Template engine</h3>
    <a href="/2018/11/28/alen" class="sidebar-link">Alen</a>
    <div class="sidebar-br"></div>
</div>


<script>
    document.querySelector("#select-version").onchange = function() {
        switch(document.querySelector("#select-version").value){
            case "1.X":
                document.querySelector("#v1X").style.display = "block";
                document.querySelector("#v03").style.display = "none";
                break;
            case "0.3":
                document.querySelector("#v1X").style.display = "none";
                document.querySelector("#v03").style.display = "block";
                break;
        }
    }
</script>

    </div>
</div>
<main class="app-body flex-box guide-main">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><h1 id="State"><a href="#State" class="headerlink" title="State"></a>State</h1><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>State is the most important means to enhance the flexibility of a component. Simply put, each parameter is a state, for example: (Conversely, if a component does not require parameters, then it does not need state)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/* First state */</span><br><span class="line">&#123;</span><br><span class="line">    str: &quot;Hello&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* Second state */</span><br><span class="line">&#123;</span><br><span class="line">    str: &quot;OK&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* Third state */</span><br><span class="line">&#123;</span><br><span class="line">    str: &quot;World&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The state can be added when the component is defined (adding a parameter <code>states</code>), or dynamically after <code>use</code>, and a component can have multiple states:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/* Added when defining */</span><br><span class="line">Ale.define(&#123;</span><br><span class="line">    name: &quot;test&quot;,</span><br><span class="line">    template: &quot;Hello &#123;&#123;=$name$&#125;&#125;&quot;,</span><br><span class="line">    states: [&#123; /* note! Here is the array! */</span><br><span class="line">        name: &quot;Ale.js&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: &quot;Ale.js!!!!&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/* Can also be added dynamically after use (will override the value specified when defining) */</span><br><span class="line">var app = Ale.use(&#123;</span><br><span class="line">    name: &quot;test&quot;,</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    states: [&#123; /* note! Here is the array! */</span><br><span class="line">        name: &quot;Ale.js&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: &quot;Ale.js!!!!&quot;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Demo:</p>
<p id="app" class="demo"></p>

<p>At this point, let’s test if the state of the component is added. How to test it? Just type <code>app.nextStates()</code> in the console (just open this page) and you will find the value of the above instance changes. It is.</p>
<p>Of course, there is a back to have next, now let’s type <code>app.backStates()</code> and let the state of the component go back!</p>
<p><br></p>
<p>At this point, you may think, we did not specify which state the default state is, then how is the distinction between <code>Ale.js</code>?</p>
<p><br></p>
<p>In fact, when you define or use a component, there is a parameter that specifies the specific default state, which is the <code>defaultState</code> parameter.</p>
<p>The default value of the <code>defaultState</code> parameter is 0, and <code>0</code> is equivalent to the first state (because the array starts at 0), so you will find that the previous instance works fine if we manually define the component or use the component. Specify the value of the <code>defaultState</code> parameter, then the default state of this component will change:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* Specified when defining */</span><br><span class="line">Ale.define(&#123;</span><br><span class="line">    name: &quot;test&quot;,</span><br><span class="line">    template: &quot;Hello &#123;&#123;=$name$&#125;&#125;&quot;,</span><br><span class="line">    states: [&#123; /* note! Here is the array! */</span><br><span class="line">        name: &quot;Ale.js&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: &quot;Ale.js!!!!&quot;</span><br><span class="line">    &#125;],</span><br><span class="line">    defaultState: 1</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* Can also be specified dynamically after use (will override the value specified when defining) */</span><br><span class="line">var app = Ale.use(&#123;</span><br><span class="line">    name: &quot;test&quot;,</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    states: [&#123; /* note! Here is the array! */</span><br><span class="line">        name: &quot;Ale.js&quot;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        name: &quot;Ale.js!!!!&quot;</span><br><span class="line">    &#125;],</span><br><span class="line">    defaultState: 1</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Demo:</p>
<p id="app2" class="demo"></p>

<h3 id="Function-list"><a href="#Function-list" class="headerlink" title="Function list"></a>Function list</h3><p>The following list is all the functions or properties related to <code>State</code> built into <code>Ale component object</code>:</p>
<ul>
<li>nextStates(steps) [forward a state]<strong>(you can specify a parameter to use to advance how many steps)</strong></li>
<li>backStates(steps) [Backward a state]<strong>(You can specify a parameter to use to step back)</strong></li>
<li>changeState(obj) [Change a state, you need an object type parameter]</li>
<li>addStates(arr) [Add one or more states, you need an array type parameter]</li>
<li>removeStates(steps) [Delete one or more states]<strong>(You can specify a parameter to delete how many steps)</strong></li>
<li>setStates(arr) [Set state, need an array type parameter]</li>
<li>statesLength() [How many states are returned in the component]</li>
</ul>
<script src="/js/Ale.min1X.js"></script>
<script>
Ale.define({
    name: "test",
    template: "Hello \{\{\=\$name\$\}\}",
    states: [{
        name: "Ale.js"
    }, {
        name: "Ale.js!!!!"
    }]
})

var app = Ale.use({
    name: "test",
    el: "#app"
})

var app = Ale.use({
    name: "test",
    el: "#app2",
    defaultState: 1
})
</script>
</section>
    <!-- Tags START -->
    
    <!-- Tags END -->
    <!-- NAV START -->
    
    <br>
    <div id="guide-findBug">
        Found some errors? <a href="https://github.com/Ale-js/cn.alejs.org">Edit on Github!</a>
    </div>
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://www.alejs.org/2018/12/02/stateCom-1X/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "State",
        owner: "",
        repo: "",
        oauth: {
          client_id: "",
          client_secret: ""
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

<script>
  var disqus_shortname = '';
  
  var disqus_url = 'http://www.alejs.org/2018/12/02/stateCom-1X/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
    <p class="copyright">
        &copy;
        2018 | Released under the MIT License
        <br>
        Create by <a href="https://github.com/17310415421">Bill Dong</a>
    </p>
</footer>

<script>
    function async (u, c) {
        var d = document,
            t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function(e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }
</script>
<script>
    async ("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function() {
        FastClick.attach(document.body);
    })
</script>

<script>
    var hasLine = 'true';
    async ("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function() {
        $('figure pre').each(function(i, block) {
            var figure = $(this).parents('figure');
            if (hasLine === 'false') {
                figure.find('.gutter').hide();
            }
            var lang = figure.attr('class').split(' ')[1] || 'code';
            var codeHtml = $(this).html();
            var codeTag = document.createElement('code');
            codeTag.className = lang;
            codeTag.innerHTML = codeHtml;
            $(this).attr('class', '').empty().html(codeTag);
            figure.attr('data-lang', lang.toUpperCase());
            hljs.highlightBlock(block);
        });
    })
</script>

<script>
    function GetUrlRelativePath() {
        var url = document.location.toString();
        var arrUrl = url.split("//");

        var start = arrUrl[1].indexOf("/");
        var relUrl = arrUrl[1].substring(start); //stop省略，截取从start开始到结尾的所有字符

        if (relUrl.indexOf("?") != -1) {
            relUrl = relUrl.split("?")[0];
        }
        return relUrl;
    }
    if(GetUrlRelativePath() === "/" || GetUrlRelativePath() === "/guide/" || GetUrlRelativePath().substr(0,6) === "/2018/" || GetUrlRelativePath().substr(0,6) === "/2019/"){
        $(".app-footer").remove();
    }
</script>

<!-- Baidu Tongji -->

<script src="/js/script.js"></script>

  </body>
</html>
